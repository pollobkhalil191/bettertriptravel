(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[157],{7015:(e,l,t)=>{Promise.resolve().then(t.bind(t,62))},6964:(e,l,t)=>{"use strict";t.d(l,{A:()=>r});let a=t(2651).A.create({baseURL:"https://btt.triumphdigital.co.th/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let l=localStorage.getItem("token");return l&&(e.headers.Authorization="Bearer ".concat(l)),e});let r=a},62:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>o});var a=t(5155),r=t(2115),s=t(6046),c=t(6964),i=t(5565),n=t(2961);t(9350);let o=()=>{let e=(0,s.useParams)().id,[l,t]=(0,r.useState)(null),[o,d]=(0,r.useState)(!1),[g,h]=(0,r.useState)(0),[m,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{(async()=>{try{let l=await c.A.get("/tour/detail/".concat(e));t(l.data.data)}catch(e){console.error("Error fetching tour details:",e)}})()},[e]),!l)return(0,a.jsx)("div",{className:"p-6 text-red-500",children:"Loading tour details..."});let p=e=>{h(e),d(!0)};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold",children:l.title}),(0,a.jsxs)("div",{className:"mt-4 flex flex-col lg:flex-row gap-6",children:[l.video&&(0,a.jsx)("div",{className:"lg:w-1/3",children:(0,a.jsx)("iframe",{className:"w-full h-64 md:h-96 rounded-lg",src:l.video,title:"Tour Video",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}),(0,a.jsx)("div",{className:"lg:w-2/3",children:(0,a.jsx)(i.default,{src:l.image,alt:l.title,width:800,height:400,className:"rounded-lg object-cover",priority:!0})})]}),l.gallery&&l.gallery.length>0?(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:l.gallery.slice(0,2).map((e,l)=>(0,a.jsx)("div",{children:(0,a.jsx)(i.default,{src:e,alt:"Gallery Image ".concat(l+1),width:400,height:300,className:"rounded-lg cursor-pointer",onClick:()=>p(l)})},l))}),l.gallery.length>2&&!m&&(0,a.jsxs)("button",{className:"mt-4 text-blue-500 font-semibold",onClick:()=>{u(!0)},children:["+",l.gallery.length-2," more images"]}),m&&(0,a.jsx)("div",{className:"mt-4 grid grid-cols-2 gap-4",children:l.gallery.slice(2).map((e,l)=>(0,a.jsx)("div",{children:(0,a.jsx)(i.default,{src:e,alt:"Gallery Image ".concat(l+3),width:400,height:300,className:"rounded-lg cursor-pointer",onClick:()=>p(l+2)})},l))})]}):(0,a.jsx)("p",{className:"mt-6 text-gray-500",children:"No gallery images available."}),o&&l.gallery.length>0&&(0,a.jsx)(n.A,{mainSrc:l.gallery[g],nextSrc:l.gallery[(g+1)%l.gallery.length],prevSrc:l.gallery[(g+l.gallery.length-1)%l.gallery.length],onCloseRequest:()=>d(!1),onMovePrevRequest:()=>h((g+l.gallery.length-1)%l.gallery.length),onMoveNextRequest:()=>h((g+1)%l.gallery.length),imageCaption:"Image ".concat(g+1," of ").concat(l.gallery.length)}),(0,a.jsx)("div",{className:"mt-6",dangerouslySetInnerHTML:{__html:l.content}}),(0,a.jsxs)("p",{className:"text-lg font-semibold mt-4",children:["Price: ",(0,a.jsx)("span",{className:"line-through text-red-500",children:l.price})," ",l.sale_price]}),(0,a.jsxs)("p",{className:"mt-2",children:["Location: ",l.location.name]})]})}}},e=>{var l=l=>e(e.s=l);e.O(0,[367,565,651,347,441,517,358],()=>l(7015)),_N_E=e.O()}]);